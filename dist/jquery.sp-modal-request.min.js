/*! jQuery.spModalRequest v0.1.0 | Copyright (c) 2015 Gonzalo Chumillas | https://github.com/soloproyectos-js/jquery.sp-modal-request/blob/master/LICENSE */
!function(t){t.spModalRequestClass=function(e,s,o,a){t.inArray(e,["get","post"])<0&&t.error("Method not allowed: "+e),this._method=e,this._args=Array.prototype.slice.call(arguments,1),this._url=s,this._data=o,this._type=a},t.spModalRequestClass.prototype.labels={dialog:{accept:"Accept"}},t.spModalRequestClass.prototype._method=null,t.spModalRequestClass.prototype._url="",t.spModalRequestClass.prototype._data={},t.spModalRequestClass.prototype._type="",t.spModalRequestClass.prototype.send=function(){var e=this,s=new t.Deferred,o=null,a=new t.spModalLoading;return a.addButton("Cancel",function(){null!=o&&o.abort()}),o=t[this._method].call(this,this._url,this._data,function(){},this._type).always(function(){a.close()}).done(function(t,e,o){s.resolve(t,e,o)}).fail(function(o,a){var r=parseInt(o.status,10),l=500>r?"Error":"Server Error",p="string"==t.type(o.statusText)&&o.statusText.length>0?o.statusText:"The request has failed";"parsererror"==a&&(l="Error",p="The document is not well formed");var n=t.spModal("message",l,p);n.addButton(e.labels.dialog.accept,function(){s.reject(o,a),n.close()}),t.error(p)}),s.promise()}}(jQuery),function(t){t.spModalRequestGetClass=function(e,s,o){t.spModalRequestClass.call(this,"get",e,s,o)},t.spModalRequestGetClass.prototype=Object.create(t.spModalRequestClass.prototype)}(jQuery),function(t){t.spModalRequestPostClass=function(e,s,o){t.spModalRequestClass.call(this,"post",e,s,o)},t.spModalRequestPostClass.prototype=Object.create(t.spModalRequestClass.prototype)}(jQuery),function(t){var e={get:function(e){function s(e){return t.spModalRequestGetClass.apply(this,e)}s.prototype=t.spModalRequestGetClass.prototype;var o=new s(arguments);return o.send()},post:function(e){function s(e){return t.spModalRequestPostClass.apply(this,e)}s.prototype=t.spModalRequestPostClass.prototype;var o=new s(arguments);return o.send()}};t.spModalRequest=function(s,o){var a=e[s],o=Array.prototype.slice.call(arguments,1);return void 0===a&&t.error("Method not found: "+s),a.apply(this,o)}}(jQuery);